CFG    = {RULE}*;
.PAD    = \s*;
RULE   = \.?{NT}{PAD}\={PAD}{R}\;{PAD};
R      = {R1}|{R2}|{R3};
.R1    = {ATOM}|{UNY}|{CAT}|{ALT};
.R2    = {ATOM}|{UNY}|{CAT};
.R3    = {ATOM}|{UNY};
.ATOM  = {EPS}|{C}|{NONT}|{PAREN}|{SAVE};
.PAREN = \[{R1}\];
EPS    = \_;
NONT   = \{{NT}\};
SAVE   = \({R1}\);
UNY    = {R3}(\*|\+|\?);
CAT    = {R3}{R2}{R2}*;
ALT    = {R2}\|{R1}[\|{R1}]*;
C      = (\w|\.|\\.);
NT     = (\a[\w|\_]*);